(function(t){function e(e){for(var r,o,i=e[0],c=e[1],l=e[2],d=0,p=[];d<i.length;d++)o=i[d],s[o]&&p.push(s[o][0]),s[o]=0;for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(t[r]=c[r]);u&&u(e);while(p.length)p.shift()();return a.push.apply(a,l||[]),n()}function n(){for(var t,e=0;e<a.length;e++){for(var n=a[e],r=!0,i=1;i<n.length;i++){var c=n[i];0!==s[c]&&(r=!1)}r&&(a.splice(e--,1),t=o(o.s=n[0]))}return t}var r={},s={app:0},a=[];function o(e){if(r[e])return r[e].exports;var n=r[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.m=t,o.c=r,o.d=function(t,e,n){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)o.d(n,r,function(e){return t[e]}.bind(null,r));return n},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],c=i.push.bind(i);i.push=e,i=i.slice();for(var l=0;l<i.length;l++)e(i[l]);var u=c;a.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"2e48":function(t,e,n){"use strict";var r=n("834a"),s=n.n(r);s.a},"30d6":function(t,e,n){},"56d7":function(t,e,n){"use strict";n.r(e);n("cadf"),n("551c"),n("f751"),n("097d");var r=n("1157"),s=n.n(r),a=(n("f0bd"),n("4989"),n("2b0e")),o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("Navbar"),n("div",{staticClass:"container p-5"},[n("router-view")],1),n("div",{staticClass:"alert alert-dissmissible col-md-6 col-12 mx-auto",class:[t.show?["show","alert-"+t.type]:""],attrs:{role:"alert"}},[t._v("\n      "+t._s(t.message)+"\n      "),t._m(0)])],1)},i=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"alert"}},[n("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])}],c=(n("8e6e"),n("ac6a"),n("456d"),n("bd86")),l=n("2f62"),u=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("nav",{staticClass:"navbar navbar-expand-lg bg-light justify-content-between"},[n("router-link",{staticClass:"navbar-brand",attrs:{to:"/"}},[n("i",{staticClass:"fas fa-cloud-sun-rain"}),t._v("\r\n        WeatherApp")]),t.loggedIn?n("div",{attrs:{id:"collapse"}},[n("router-link",{attrs:{to:"/weather"}},[t._v("Pogoda"),n("i",{staticClass:"fas fa-sun"})]),t._v(" |\r\n        "),n("router-link",{attrs:{to:"/profile"}},[t._v("Profil "),n("i",{staticClass:"far fa-user-circle"})]),t._v(" |\r\n        "),n("a",{attrs:{href:"#"},on:{click:t.logout}},[t._v("Wyloguj"),n("i",{staticClass:"fas fa-sign-out-alt"})])],1):t._e()],1)},d=[];function p(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)}return n}function f(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?p(n,!0).forEach(function(e){Object(c["a"])(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):p(n).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}var m={name:"Navbar",computed:f({},Object(l["c"])("user",["loggedIn"])),methods:{logout:function(){this.$store.dispatch("user/logout"),this.$router.push("/")}}},h=m,g=(n("5dfc"),n("2877")),v=Object(g["a"])(h,u,d,!1,null,null,null),y=v.exports;function b(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)}return n}function w(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?b(n,!0).forEach(function(e){Object(c["a"])(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):b(n).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}var O={name:"app",components:{Navbar:y},computed:w({},Object(l["c"])("alert",["show","message","type"]))},j=O,C=(n("5c0b"),Object(g["a"])(j,o,i,!1,null,null,null)),_=C.exports,k=n("8c4f"),P=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"row "},[t.loggedIn?n("div",{staticClass:"col-12 d-flex flex-wrap"},[n("div",{staticClass:"card mx-auto my-2 shadow"},[n("router-link",{staticClass:"my-auto",attrs:{to:"/weather"}},[n("h5",{staticClass:"card-title"},[n("i",{staticClass:"fas fa-cloud-sun"})])])],1),n("div",{staticClass:"card mx-auto my-2 shadow"},[n("router-link",{staticClass:"my-auto",attrs:{to:"/profile"}},[n("h5",{staticClass:"card-title"},[n("i",{staticClass:"fas fa-id-card"})])])],1)]):n("div",{staticClass:"col-12 "},[n("h1",[t._v("Pogodynka")]),n("p",[t._v("Witaj w aplikacji do sprawdzania pogody. ")]),n("div",[n("router-link",{staticClass:"btn btn-primary",attrs:{to:"/login"}},[t._v("\n        Zaloguj się\n      ")]),t._v("\n      lub\n      "),n("router-link",{staticClass:"btn btn-primary",attrs:{to:"/register"}},[t._v("\n       Załóż konto\n      ")])],1)])])},x=[];function I(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)}return n}function L(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?I(n,!0).forEach(function(e){Object(c["a"])(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):I(n).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}var T={name:"home",computed:L({},Object(l["c"])("user",["loggedIn","userCities"]))},S=T,D=(n("2e48"),Object(g["a"])(S,P,x,!1,null,"308603af",null)),E=D.exports,A=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"col-8 mx-auto text-left"},[t.loggedIn?n("div",[n("h1",[t._v("Jesteś już zalogowany")])]):n("form",{staticClass:"border border-secondary bg-light rounded p-3"},[n("h1",[t._v("Zaloguj się")]),n("div",{staticClass:"form-group"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.username,expression:"username"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Login"},domProps:{value:t.username},on:{input:function(e){e.target.composing||(t.username=e.target.value)}}})]),n("div",{staticClass:"form-group"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],staticClass:"form-control",attrs:{type:"password",min:"8",placeholder:"Hasło"},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}})]),n("button",{staticClass:"btn btn-primary d-block",on:{click:t.login}},[t._v("Zaloguj")]),n("small",[t._v("Nie masz konta? \n        "),n("router-link",{attrs:{to:"/register"}},[t._v("\n            Zarejestruj się\n        ")])],1)])])},N=[],U=n("5118");function z(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)}return n}function W(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?z(n,!0).forEach(function(e){Object(c["a"])(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):z(n).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}var Z={name:"Login",computed:W({},Object(l["c"])("user",["loggedIn"])),data:function(){return{username:"",password:""}},methods:{login:function(){this.$store.dispatch("user/login",{username:this.username,password:this.password})}},created:function(){var t=this;this.loggedIn&&Object(U["setTimeout"])(function(){t.$router.push("/")},3e3)}},M=Z,B=Object(g["a"])(M,A,N,!1,null,null,null),J=B.exports,F=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},q=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"row"},[n("div",{staticClass:"col-6 mx-auto card d-flex"},[n("div",{staticClass:"my-auto"},[n("h1",[t._v("Błąd 404")]),n("p",[t._v("Podana strona nie istnieje.")])])])])}],H={name:"UnknownPage",created:function(){var t=this;Object(U["setTimeout"])(function(){t.$router.push("/")},2500)}},R=H,G=Object(g["a"])(R,F,q,!1,null,null,null),K=G.exports,Q=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"col-8 mx-auto text-left"},[n("form",{staticClass:"border border-secondary bg-light rounded p-3"},[n("h1",[t._v("Rejestracja")]),n("div",{staticClass:"form-group"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.username,expression:"username"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Login"},domProps:{value:t.username},on:{input:function(e){e.target.composing||(t.username=e.target.value)}}})]),n("div",{staticClass:"form-group"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],staticClass:"form-control",attrs:{type:"password",placeholder:"Hasło"},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}})]),n("button",{staticClass:"btn btn-primary d-block",on:{click:t.register}},[t._v("Zarejestruj")]),n("small",[t._v("Masz już konto? \n        "),n("router-link",{attrs:{to:"/login"}},[t._v("\n            Zaloguj się\n        ")])],1)])])},V=[],X={name:"Register",data:function(){return{username:"",password:""}},methods:{register:function(){this.username.length>4?this.password.length>4?this.$store.dispatch("user/register",{username:this.username,argPassword:this.password}):this.$store.dispatch("alert/error","Zbyt krótkie hasło!"):this.$store.dispatch("alert/error","Zbyt krótka nazwa użytkownika")}}},Y=X,tt=Object(g["a"])(Y,Q,V,!1,null,null,null),et=tt.exports,nt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"row"},[n("div",{staticClass:"card col-12 col-md-6 mx-auto p-0 shadow-lg"},[n("div",{staticClass:"card-body p-0"},[n("h4",{staticClass:"card-title p-3 mb-0 bg-secondary text-white"},[t._v("Pogoda dla Twoich miast")]),n("div",{staticClass:"card-text p-3  position-relative "},[n("input-with-list",{attrs:{list:t.citiesList,suggestionNumber:10,inputName:"Nazwa miasta"},on:{elementSelected:t.checkAndAddCity}}),t.userCities.length>0?n("div",[n("ul",{staticClass:"list-group mb-3"},t._l(t.userCities,function(e){return n("li",{key:e.id,staticClass:"list-group-item d-flex align-items-center px-1 px-sm-4"},[n("span",{staticClass:"text-nowrap"},[t._v(t._s(e.name))]),n("div",{staticClass:"flex-grow-1"},t._l(e.weatherIcons,function(t){return n("img",{key:t,staticClass:"weather-icon",attrs:{src:"http://openweathermap.org/img/wn/"+t+"@2x.png"}})}),0),e.weather?n("div",{staticClass:"weather-container"},[n("span",[t._v(t._s(e.weather.temp)+"°C")]),n("span",[t._v(t._s(e.weather.humidity)+"%")])]):t._e(),n("button",{staticClass:"btn btn-danger",on:{click:function(n){return t.removeCity(e)}}},[n("i",{staticClass:"far fa-trash-alt"})])])}),0),n("button",{staticClass:"btn w-100 btn-outline-danger",on:{click:t.removeAll}},[t._v("Usuń wszystkie")])]):n("h6",[t._v("\n              Dodaj jakieś miasto...\n            ")]),n("div",{staticClass:"spinner-container",class:{"spinner-container-visible":t.fetching}},[t._m(0)])],1)])])])},rt=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"spinner-border text-primary",attrs:{id:"spinner",role:"status"}},[n("span",{staticClass:"sr-only"},[t._v("Aktualizacja danych...")])])}],st=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("form",{staticClass:"mb-4 position-relative"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.name,expression:"name"}],staticClass:"form-control",attrs:{placeholder:t.inputName},domProps:{value:t.name},on:{keyup:function(e){return t.findMatching(t.name)},focus:function(e){t.focusedInput=!0},blur:function(e){t.focusedInput=!1|t.hover},input:function(e){e.target.composing||(t.name=e.target.value)}}}),t.focusedInput||t.hover?n("ul",{staticClass:"list-group",attrs:{id:"suggestionList"},on:{mouseover:function(e){t.hover=!0},mouseleave:function(e){t.hover=!1}}},t._l(t.suggestedElements,function(e){return n("li",{key:e.id,staticClass:"list-group-item list-group-item-action",on:{click:function(n){return t.elementSelected(e,!1)}}},[t._v("\n                  "+t._s(e.name)+"\n             "),n("button",{staticClass:"btn  btn-outline-success btn-sm",on:{click:function(n){return n.stopPropagation(),t.elementSelected(e,!0)}}},[n("i",{staticClass:"fas fa-plus"})])])}),0):t._e()])},at=[],ot=(n("7f7f"),n("4917"),n("3b2b"),n("c5f6"),{name:"InputWithList",props:{suggestionNumber:Number,inputName:String,list:Array},data:function(){return{name:"",suggestedElements:[],focusedInput:!1,hover:!1}},methods:{findMatching:function(t){if(t.length<3)this.suggestedElements=[];else{var e=new RegExp("(".concat(t,")"),"gi");this.suggestedElements=this.$props.list.filter(function(t){return t.name.match(e)}).splice(0,this.suggestionNumber)}},elementSelected:function(t,e){this.name=t.name,this.$emit("elementSelected",t),this.focusedInput=!1,this.hover=e}}}),it=ot,ct=(n("fcf6"),Object(g["a"])(it,st,at,!1,null,"6e2a1ec6",null)),lt=ct.exports,ut=n("bc3a"),dt=n.n(ut);function pt(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)}return n}function ft(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?pt(n,!0).forEach(function(e){Object(c["a"])(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):pt(n).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}var mt={name:"Weather",components:{InputWithList:lt},data:function(){return{apikey:"05f5cd33a78f26982b46071600c01ff6",weatherData:[],fetching:!1,updateFrequency:3e4,timer:null,citiesList:[],publicPath:""}},beforeDestroy:function(){Object(U["clearInterval"])(this.timer)},computed:ft({},Object(l["c"])("user",["userCities"])),created:function(){var t=this;dt.a.get("/static/citiesIDs.json").then(function(e){return t.citiesList=e.data}).catch(function(e){return t.error("Błąd wczytywania listy miast")}),this.fetchWeather(),this.timer=Object(U["setInterval"])(this.fetchWeather,this.updateFrequency)},methods:ft({},Object(l["b"])("user",["addCity","removeCity","removeAll","updateWeather"]),{},Object(l["b"])("alert",["error","warning"]),{fetchWeather:function(){var t=this;if(this.userCities.length>0){this.fetching=!0;var e="";this.userCities.forEach(function(t){return e+=t.id+","}),e=e.slice(0,-1),dt.a.get("http://api.openweathermap.org/data/2.5/group?id=".concat(e,"&APPID=").concat(this.apikey,"&units=metric")).then(function(e){t.weatherData=e.data.list,t.updateWeather(t.weatherData)}).catch(function(e){return t.error(e)})}this.finalizeFetching()},finalizeFetching:function(){var t=this;Object(U["setTimeout"])(function(){return t.fetching=!1},1e3)},fetchCurrentylAdded:function(t){var e=this;this.fetching=!0,dt.a.get("http://api.openweathermap.org/data/2.5/weather?id=".concat(t.id,"&APPID=").concat(this.apikey,"&units=metric")).then(function(t){e.weatherData.push(t.data),e.updateWeather(e.weatherData)}).catch(function(t){return e.error(t)}).finally(this.finalizeFetching)},checkAndAddCity:function(t){this.userCities.some(function(e){return e.id==t.id})?this.warning("Wyrabne miasto jest już na liście"):(this.addCity(t),this.fetchCurrentylAdded(t))}})},ht=mt,gt=(n("a883"),Object(g["a"])(ht,nt,rt,!1,null,"35d817f8",null)),vt=gt.exports,yt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"row"},[n("div",{staticClass:"col-md-6 col-12 mx-auto card p-0 shadow-lg d-flex"},[t.loggedIn?n("div",[n("h4",{staticClass:"card-title p-3 mb-0 bg-secondary text-white"},[t._v("Witaj "+t._s(t.username))]),n("div",{staticClass:"card-body justify-content-between d-flex flex-column flex-lg-row"},[n("span",{staticClass:"flex-grow-1 px-1 my-2"},[n("button",{staticClass:"btn btn-primary w-100",on:{click:t.changePasswordEvent}},[n("i",{staticClass:"fas fa-user-edit"}),t._v(" Zmień hasło")])]),n("span",{staticClass:"flex-grow-1 px-1 my-2"},[n("button",{staticClass:"btn btn-primary w-100",on:{click:t.changeUsernameEvent}},[n("i",{staticClass:"fas fa-user-edit"}),t._v("Zmień login")])]),n("span",{staticClass:"flex-grow-1 px-1 my-2"},[n("button",{staticClass:"btn btn-danger w-100",on:{click:t.deleteAccountEvent}},[n("i",{staticClass:"fas fa-user-slash"}),t._v("Usuń konto")])])]),n("double-input-modal",{ref:"modal",attrs:{firstType:t.firstType,secondType:t.secondType},on:{accepted:t.actionEvent},scopedSlots:t._u([{key:"title",fn:function(){return[t._v("\r\n                "+t._s(t.actionTitle)+"\r\n              ")]},proxy:!0},{key:"firstInput",fn:function(){return[t._v("\r\n                "+t._s(t.firtInputTitle)+"\r\n              ")]},proxy:!0},{key:"secondInput",fn:function(){return[t._v("\r\n                "+t._s(t.secondInputTitle)+"\r\n              ")]},proxy:!0}])})],1):n("div",{staticClass:"mt-3"},[n("h1",[t._v("Nie jesteś zalogowany")]),n("p",[t._v("Dostęp do tej strony mają jedynie zalogowani użytkownicy.")])])])])},bt=[],wt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"modal ",attrs:{id:"modal"}},[n("div",{staticClass:"modal-dialog modal-dialog-centered"},[n("div",{staticClass:"modal-content"},[n("div",{staticClass:"modal-header"},[n("h5",{staticClass:"modal-title"},[t._t("title")],2)]),n("div",{staticClass:"modal-body"},[n("form",{staticClass:"text-left"},[n("h5",[t._t("firstInput")],2),"checkbox"===t.firstType?n("input",{directives:[{name:"model",rawName:"v-model",value:t.firstLine,expression:"firstLine"}],staticClass:"form-control",attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.firstLine)?t._i(t.firstLine,null)>-1:t.firstLine},on:{change:function(e){var n=t.firstLine,r=e.target,s=!!r.checked;if(Array.isArray(n)){var a=null,o=t._i(n,a);r.checked?o<0&&(t.firstLine=n.concat([a])):o>-1&&(t.firstLine=n.slice(0,o).concat(n.slice(o+1)))}else t.firstLine=s}}}):"radio"===t.firstType?n("input",{directives:[{name:"model",rawName:"v-model",value:t.firstLine,expression:"firstLine"}],staticClass:"form-control",attrs:{type:"radio"},domProps:{checked:t._q(t.firstLine,null)},on:{change:function(e){t.firstLine=null}}}):n("input",{directives:[{name:"model",rawName:"v-model",value:t.firstLine,expression:"firstLine"}],staticClass:"form-control",attrs:{type:t.firstType},domProps:{value:t.firstLine},on:{input:function(e){e.target.composing||(t.firstLine=e.target.value)}}}),n("h5",[t._t("secondInput")],2),"checkbox"===t.secondType?n("input",{directives:[{name:"model",rawName:"v-model",value:t.secondLine,expression:"secondLine"}],staticClass:"form-control",attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.secondLine)?t._i(t.secondLine,null)>-1:t.secondLine},on:{change:function(e){var n=t.secondLine,r=e.target,s=!!r.checked;if(Array.isArray(n)){var a=null,o=t._i(n,a);r.checked?o<0&&(t.secondLine=n.concat([a])):o>-1&&(t.secondLine=n.slice(0,o).concat(n.slice(o+1)))}else t.secondLine=s}}}):"radio"===t.secondType?n("input",{directives:[{name:"model",rawName:"v-model",value:t.secondLine,expression:"secondLine"}],staticClass:"form-control",attrs:{type:"radio"},domProps:{checked:t._q(t.secondLine,null)},on:{change:function(e){t.secondLine=null}}}):n("input",{directives:[{name:"model",rawName:"v-model",value:t.secondLine,expression:"secondLine"}],staticClass:"form-control",attrs:{type:t.secondType},domProps:{value:t.secondLine},on:{input:function(e){e.target.composing||(t.secondLine=e.target.value)}}})])]),n("div",{staticClass:"modal-footer"},[n("button",{staticClass:"btn btn-outline-danger",attrs:{type:"button","data-dismiss":"modal"},on:{click:t.clear}},[t._v("Anuluj")]),n("button",{staticClass:"btn btn-outline-success",attrs:{type:"button"},on:{click:function(e){t.$emit("accepted",t.firstLine,t.secondLine),t.clear()}}},[t._v("Wykonaj")])])])])])},Ot=[],jt={name:"Modal",props:{firstType:{type:String,default:"text"},secondType:{type:String,default:"text"}},methods:{clear:function(){this.firstLine="",this.secondLine="",$("modal").modal("hide")}},data:function(){return{firstLine:"",secondLine:""}}},Ct=jt,_t=Object(g["a"])(Ct,wt,Ot,!1,null,null,null),kt=_t.exports;function Pt(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)}return n}function xt(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Pt(n,!0).forEach(function(e){Object(c["a"])(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Pt(n).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}var It={name:"Profile",components:{DoubleInputModal:kt},computed:{loggedIn:function(){return this.$store.state.user.loggedIn},username:function(){return this.$store.state.user.user.name}},created:function(){var t=this;this.loggedIn||setTimeout(function(){t.$router.push("/")},2500)},methods:xt({},Object(l["b"])("user",["updateUserData","deleteUser"]),{},Object(l["b"])("alert",["warning"]),{changePasswordEvent:function(){$("#modal").modal("show"),this.actionEvent=this.changePassword,this.firstType="password",this.secondType="password",this.actionTitle="Zmiana hasła",this.firtInputTitle="Stare hasło",this.secondInputTitle="Nowe hasło"},changeUsernameEvent:function(){$("#modal").modal("show"),this.actionEvent=this.changeUsername,this.firstType="text",this.secondType="password",this.actionTitle="Zmiana nazwy użytkownika",this.firtInputTitle="Nowa nazwa",this.secondInputTitle="Hasło"},deleteAccountEvent:function(){$("#modal").modal("show"),this.actionEvent=this.deleteAccount,this.firstType="password",this.secondType="password",this.actionTitle="Usuwanie konta",this.firtInputTitle="Hasło",this.secondInputTitle=""},changePassword:function(t,e){e.length<4?this.warning("Zbyt krótkie hasło"):(this.updateUserData({username:"",authPassword:t,newPassword:e}),$("#modal").modal("hide"))},changeUsername:function(t,e){t.length<4?this.warning("Zbyt krótka nazwa"):(this.updateUserData({username:t,authPassword:e}),$("#modal").modal("hide"))},deleteAccount:function(t){this.deleteUser(t),$("#modal").modal("hide")}}),data:function(){return{actionTitle:"",actionEvent:function(){},firstType:"",secondType:"",firtInputTitle:"",secondInputTitle:""}}},Lt=It,Tt=Object(g["a"])(Lt,yt,bt,!1,null,null,null),St=Tt.exports;a["a"].use(k["a"]);var Dt=new k["a"]({routes:[{path:"/",name:"home",component:E},{path:"/login",name:"login",component:J},{path:"/register",name:"Register",component:et},{path:"/weather",name:"Weather",component:vt},{path:"/profile",name:"Profile",component:St},{path:"*",name:"UknownPage",component:K}]}),Et=Dt,At={show:!1,message:"",type:"",timeout:4e3},$t={removeAlert:function(t){t.show=!1,t.message="",t.type=""},setAlert:function(t,e){var n=e.message,r=e.type;t.show=!0,t.message=n,t.type=r}},Nt={success:function(t,e){var n=t.commit;n("setAlert",{message:e,type:"success"}),setTimeout(function(){n("removeAlert")},At.timeout)},error:function(t,e){var n=t.commit;n("setAlert",{message:e,type:"danger"}),setTimeout(function(){n("removeAlert")},At.timeout)},warning:function(t,e){var n=t.commit;n("setAlert",{message:e,type:"warning"}),setTimeout(function(){n("removeAlert")},At.timeout)},info:function(t,e){var n=t.commit;n("setAlert",{message:e,type:"info"}),setTimeout(function(){n("removeAlert")},At.timeout)}},Ut={namespaced:!0,state:At,mutations:$t,actions:Nt},zt=localStorage.getItem("logged")||0,Wt=zt?JSON.parse(localStorage.getItem(zt)):{},Zt=zt?{user:Wt,loggedIn:!0,userCities:Wt.cities}:{user:null,loggedIn:!1,userCities:[]},Mt={login:function(t,e){t.user=e,t.loggedIn=!0,t.userCities=e.cities},logout:function(t){t.user=null,t.loggedIn=!1,t.userCities=[]},updateUserData:function(t,e){var n=e.name,r=e.password;t.user.name=n,t.user.password=r},addCity:function(t,e){t.userCities.push(e),t.user.cities=t.userCities},removeCity:function(t,e){t.userCities=t.userCities.filter(function(t){return t.id!==e.id}),t.user.cities=t.userCities},removeAll:function(t){t.userCities=[],t.user.cities=t.userCities},updateWeather:function(t,e){for(var n=function(n){t.userCities[n].weather=e[n].main,t.userCities[n].weatherIcons=[],e[n].weather.forEach(function(e){return t.userCities[n].weatherIcons.push(e.icon)})},r=0;r<e.length;r++)n(r)}},Bt={register:function(t,e){var n=t.dispatch,r=e.username,s=e.argPassword,a=localStorage.getItem(r);if(r&&s&&!a){var o={name:r,password:s,cities:[]};localStorage.setItem(r,JSON.stringify(o)),n("alert/success","Pomyślnie zarejestrowano",{root:!0}),Et.push("/login")}else n("alert/error",a?"Taki użytkownik już istnieje":"Brak hasła lub loginu",{root:!0})},deleteAccount:function(t,e){var n=t.dispatch;localStorage.getItem(e)&&(localStorage.removeItem(e),n("logout"),n("alert/info","Usunięto konto")),n("alert/error","Błąd podczas usuwania konta - nie istnieje",{root:!0})},login:function(t,e){var n=t.dispatch,r=t.commit,s=e.username,a=e.password,o=JSON.parse(localStorage.getItem(s));o?o.password===a?(r("login",o),localStorage.setItem("logged",o.name),n("alert/success","Pomyślnie zalogowano",{root:!0}),Et.push("/")):n("alert/error","Błędne hasło",{root:!0}):n("alert/error","Podany użytkownik nie istnieje",{root:!0})},logout:function(t){var e=t.dispatch,n=t.commit;localStorage.removeItem("logged"),n("logout"),e("alert/info","Wylogowano",{root:!0}),Et.push("/")},addCity:function(t,e){var n=t.dispatch,r=t.commit;r("addCity",e),n("storeUser"),n("alert/success","Dodano miasto",{root:!0})},removeCity:function(t,e){var n=t.dispatch,r=t.commit;r("removeCity",e),n("storeUser"),n("alert/warning","Usunięto miasto",{root:!0})},removeAll:function(t){var e=t.dispatch,n=t.commit;n("removeAll"),e("storeUser"),e("alert/warning","Usunięto wszystkie miasta",{root:!0})},updateWeather:function(t,e){var n=t.dispatch,r=t.commit;r("updateWeather",e),n("storeUser")},storeUser:function(){localStorage.setItem(Zt.user.name,JSON.stringify(Zt.user))},updateUserData:function(t,e){var n=t.dispatch,r=t.commit,s=e.username,a=e.authPassword,o=e.newPassword;if(Zt.user.password==a){if(localStorage.getItem(s))return void n("alert/error","Taki użytkownik już istnieje",{root:!0});localStorage.removeItem(Zt.user.name),r("updateUserData",{name:s||Zt.user.name,password:o||a}),localStorage.setItem("logged",Zt.user.name),n("storeUser"),n("alert/success","Wprowadzono zmiany",{root:!0})}else n("alert/error","Błędne hasło",{root:!0})},deleteUser:function(t,e){var n=t.dispatch;t.commit;e==Zt.user.password?(localStorage.removeItem(Zt.user.name),n("logout"),n("alert/info","Usunięto konto",{root:!0}),Et.push("/")):n("alert/error","Błędne hasło",{root:!0})}},Jt={namespaced:!0,state:Zt,mutations:Mt,actions:Bt};a["a"].use(l["a"]);var Ft=new l["a"].Store({modules:{alert:Ut,user:Jt}});n("de82");window.$=s.a,a["a"].config.productionTip=!1,new a["a"]({router:Et,store:Ft,render:function(t){return t(_)}}).$mount("#app")},"5c0b":function(t,e,n){"use strict";var r=n("5e27"),s=n.n(r);s.a},"5dfc":function(t,e,n){"use strict";var r=n("30d6"),s=n.n(r);s.a},"5e27":function(t,e,n){},"62fd":function(t,e,n){},"834a":function(t,e,n){},a883:function(t,e,n){"use strict";var r=n("be47"),s=n.n(r);s.a},be47:function(t,e,n){},de82:function(t,e,n){},fcf6:function(t,e,n){"use strict";var r=n("62fd"),s=n.n(r);s.a}});
//# sourceMappingURL=app.731620c2.js.map