(function(t){function e(e){for(var a,i,o=e[0],c=e[1],l=e[2],d=0,f=[];d<o.length;d++)i=o[d],r[i]&&f.push(r[i][0]),r[i]=0;for(a in c)Object.prototype.hasOwnProperty.call(c,a)&&(t[a]=c[a]);u&&u(e);while(f.length)f.shift()();return n.push.apply(n,l||[]),s()}function s(){for(var t,e=0;e<n.length;e++){for(var s=n[e],a=!0,o=1;o<s.length;o++){var c=s[o];0!==r[c]&&(a=!1)}a&&(n.splice(e--,1),t=i(i.s=s[0]))}return t}var a={},r={app:0},n=[];function i(e){if(a[e])return a[e].exports;var s=a[e]={i:e,l:!1,exports:{}};return t[e].call(s.exports,s,s.exports,i),s.l=!0,s.exports}i.m=t,i.c=a,i.d=function(t,e,s){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(i.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)i.d(s,a,function(e){return t[e]}.bind(null,a));return s},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/vue-weather-app/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=e,o=o.slice();for(var l=0;l<o.length;l++)e(o[l]);var u=c;n.push([0,"chunk-vendors"]),s()})({0:function(t,e,s){t.exports=s("56d7")},"0dea":function(t,e,s){"use strict";var a=s("dcd1"),r=s.n(a);r.a},"2a1b":function(t,e,s){"use strict";var a=s("941b"),r=s.n(a);r.a},"2a79":function(t,e,s){"use strict";var a=s("a9bf"),r=s.n(a);r.a},4678:function(t,e,s){var a={"./af":"2bfb","./af.js":"2bfb","./ar":"8e73","./ar-dz":"a356","./ar-dz.js":"a356","./ar-kw":"423e","./ar-kw.js":"423e","./ar-ly":"1cfd","./ar-ly.js":"1cfd","./ar-ma":"0a84","./ar-ma.js":"0a84","./ar-sa":"8230","./ar-sa.js":"8230","./ar-tn":"6d83","./ar-tn.js":"6d83","./ar.js":"8e73","./az":"485c","./az.js":"485c","./be":"1fc1","./be.js":"1fc1","./bg":"84aa","./bg.js":"84aa","./bm":"a7fa","./bm.js":"a7fa","./bn":"9043","./bn.js":"9043","./bo":"d26a","./bo.js":"d26a","./br":"6887","./br.js":"6887","./bs":"2554","./bs.js":"2554","./ca":"d716","./ca.js":"d716","./cs":"3c0d","./cs.js":"3c0d","./cv":"03ec","./cv.js":"03ec","./cy":"9797","./cy.js":"9797","./da":"0f14","./da.js":"0f14","./de":"b469","./de-at":"b3eb","./de-at.js":"b3eb","./de-ch":"bb71","./de-ch.js":"bb71","./de.js":"b469","./dv":"598a","./dv.js":"598a","./el":"8d47","./el.js":"8d47","./en-SG":"cdab","./en-SG.js":"cdab","./en-au":"0e6b","./en-au.js":"0e6b","./en-ca":"3886","./en-ca.js":"3886","./en-gb":"39a6","./en-gb.js":"39a6","./en-ie":"e1d3","./en-ie.js":"e1d3","./en-il":"7333","./en-il.js":"7333","./en-nz":"6f50","./en-nz.js":"6f50","./eo":"65db","./eo.js":"65db","./es":"898b","./es-do":"0a3c","./es-do.js":"0a3c","./es-us":"55c9","./es-us.js":"55c9","./es.js":"898b","./et":"ec18","./et.js":"ec18","./eu":"0ff2","./eu.js":"0ff2","./fa":"8df4","./fa.js":"8df4","./fi":"81e9","./fi.js":"81e9","./fo":"0721","./fo.js":"0721","./fr":"9f26","./fr-ca":"d9f8","./fr-ca.js":"d9f8","./fr-ch":"0e49","./fr-ch.js":"0e49","./fr.js":"9f26","./fy":"7118","./fy.js":"7118","./ga":"5120","./ga.js":"5120","./gd":"f6b4","./gd.js":"f6b4","./gl":"8840","./gl.js":"8840","./gom-latn":"0caa","./gom-latn.js":"0caa","./gu":"e0c5","./gu.js":"e0c5","./he":"c7aa","./he.js":"c7aa","./hi":"dc4d","./hi.js":"dc4d","./hr":"4ba9","./hr.js":"4ba9","./hu":"5b14","./hu.js":"5b14","./hy-am":"d6b6","./hy-am.js":"d6b6","./id":"5038","./id.js":"5038","./is":"0558","./is.js":"0558","./it":"6e98","./it-ch":"6f12","./it-ch.js":"6f12","./it.js":"6e98","./ja":"079e","./ja.js":"079e","./jv":"b540","./jv.js":"b540","./ka":"201b","./ka.js":"201b","./kk":"6d79","./kk.js":"6d79","./km":"e81d","./km.js":"e81d","./kn":"3e92","./kn.js":"3e92","./ko":"22f8","./ko.js":"22f8","./ku":"2421","./ku.js":"2421","./ky":"9609","./ky.js":"9609","./lb":"440c","./lb.js":"440c","./lo":"b29d","./lo.js":"b29d","./lt":"26f9","./lt.js":"26f9","./lv":"b97c","./lv.js":"b97c","./me":"293c","./me.js":"293c","./mi":"688b","./mi.js":"688b","./mk":"6909","./mk.js":"6909","./ml":"02fb","./ml.js":"02fb","./mn":"958b","./mn.js":"958b","./mr":"39bd","./mr.js":"39bd","./ms":"ebe4","./ms-my":"6403","./ms-my.js":"6403","./ms.js":"ebe4","./mt":"1b45","./mt.js":"1b45","./my":"8689","./my.js":"8689","./nb":"6ce3","./nb.js":"6ce3","./ne":"3a39","./ne.js":"3a39","./nl":"facd","./nl-be":"db29","./nl-be.js":"db29","./nl.js":"facd","./nn":"b84c","./nn.js":"b84c","./pa-in":"f3ff","./pa-in.js":"f3ff","./pl":"8d57","./pl.js":"8d57","./pt":"f260","./pt-br":"d2d4","./pt-br.js":"d2d4","./pt.js":"f260","./ro":"972c","./ro.js":"972c","./ru":"957c","./ru.js":"957c","./sd":"6784","./sd.js":"6784","./se":"ffff","./se.js":"ffff","./si":"eda5","./si.js":"eda5","./sk":"7be6","./sk.js":"7be6","./sl":"8155","./sl.js":"8155","./sq":"c8f3","./sq.js":"c8f3","./sr":"cf1e","./sr-cyrl":"13e9","./sr-cyrl.js":"13e9","./sr.js":"cf1e","./ss":"52bd","./ss.js":"52bd","./sv":"5fbd","./sv.js":"5fbd","./sw":"74dc","./sw.js":"74dc","./ta":"3de5","./ta.js":"3de5","./te":"5cbb","./te.js":"5cbb","./tet":"576c","./tet.js":"576c","./tg":"3b1b","./tg.js":"3b1b","./th":"10e8","./th.js":"10e8","./tl-ph":"0f38","./tl-ph.js":"0f38","./tlh":"cf75","./tlh.js":"cf75","./tr":"0e81","./tr.js":"0e81","./tzl":"cf51","./tzl.js":"cf51","./tzm":"c109","./tzm-latn":"b53d","./tzm-latn.js":"b53d","./tzm.js":"c109","./ug-cn":"6117","./ug-cn.js":"6117","./uk":"ada2","./uk.js":"ada2","./ur":"5294","./ur.js":"5294","./uz":"2e8c","./uz-latn":"010e","./uz-latn.js":"010e","./uz.js":"2e8c","./vi":"2921","./vi.js":"2921","./x-pseudo":"fd7e","./x-pseudo.js":"fd7e","./yo":"7f33","./yo.js":"7f33","./zh-cn":"5c3a","./zh-cn.js":"5c3a","./zh-hk":"49ab","./zh-hk.js":"49ab","./zh-tw":"90ea","./zh-tw.js":"90ea"};function r(t){var e=n(t);return s(e)}function n(t){var e=a[t];if(!(e+1)){var s=new Error("Cannot find module '"+t+"'");throw s.code="MODULE_NOT_FOUND",s}return e}r.keys=function(){return Object.keys(a)},r.resolve=n,t.exports=r,r.id="4678"},"56d7":function(t,e,s){"use strict";s.r(e);s("cadf"),s("551c"),s("f751"),s("097d");var a=s("1157"),r=s.n(a),n=(s("f0bd"),s("4989"),s("2b0e")),i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"app"}},[s("Navbar"),s("div",{staticClass:"container fluid px-4 px-lg-5 py-3"},[s("router-view")],1),s("div",{staticClass:"w-100",class:[t.show?"show":""],attrs:{id:"alert-container",role:"alert"}},[s("div",{staticClass:"alert col-md-6 col-11 mx-auto show",class:[t.show?"alert-"+t.type:""],attrs:{role:"alert"}},[t._v("\n          "+t._s(t.message)+"\n\n    ")])])],1)},o=[],c=(s("8e6e"),s("ac6a"),s("456d"),s("bd86")),l=s("2f62"),u=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("nav",{staticClass:"navbar navbar-expand-lg bg-light shadow-sm  justify-content-between"},[s("router-link",{staticClass:"navbar-brand mx-auto mx-sm-0",attrs:{to:"/"}},[s("i",{staticClass:"fas fa-cloud-sun-rain"}),t._v("\n        WeatherApp")]),t.loggedIn?s("div",{staticClass:"d-none d-sm-block",attrs:{id:"collapse"}},[s("router-link",{attrs:{to:"/weather"}},[t._v("Pogoda"),s("i",{staticClass:"fas fa-sun"})]),t._v(" |\n        "),s("router-link",{attrs:{to:"/profile"}},[t._v("Profil "),s("i",{staticClass:"far fa-user-circle"})]),t._v(" |\n        "),s("a",{attrs:{href:"#"},on:{click:t.logout}},[t._v("Wyloguj"),s("i",{staticClass:"fas fa-sign-out-alt"})])],1):t._e()],1)},d=[];function f(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),s.push.apply(s,a)}return s}function p(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?f(s,!0).forEach(function(e){Object(c["a"])(t,e,s[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):f(s).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))})}return t}var h={name:"Navbar",computed:p({},Object(l["c"])("user",["loggedIn"])),methods:{logout:function(){this.$store.dispatch("user/logout"),this.$router.push("/")}}},m=h,g=(s("9fc8"),s("2877")),b=Object(g["a"])(m,u,d,!1,null,"4e12fbde",null),v=b.exports;function y(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),s.push.apply(s,a)}return s}function j(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?y(s,!0).forEach(function(e){Object(c["a"])(t,e,s[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):y(s).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))})}return t}var w={name:"app",components:{Navbar:v},computed:j({},Object(l["c"])("alert",["show","message","type"]))},C=w,O=(s("5c0b"),Object(g["a"])(C,i,o,!1,null,null,null)),k=O.exports,_=s("8c4f"),P=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"row "},[t.loggedIn?s("div",{staticClass:"col-12 d-flex flex-wrap"},[s("div",{staticClass:"card bg-light mx-auto my-2 shadow"},[s("router-link",{staticClass:"my-auto",attrs:{to:"/weather"}},[s("h5",{staticClass:"card-title"},[s("i",{staticClass:"fas fa-cloud-sun"})])])],1),s("div",{staticClass:"card bg-light mx-auto my-2 shadow"},[s("router-link",{staticClass:"my-auto",attrs:{to:"/profile"}},[s("h5",{staticClass:"card-title"},[s("i",{staticClass:"fas fa-id-card"})])])],1)]):s("div",{staticClass:"col-12 "},[s("h1",[t._v("Pogodynka")]),s("p",[t._v("Witaj w aplikacji do sprawdzania pogody. ")]),s("div",[s("router-link",{staticClass:"btn btn-primary",attrs:{to:"/login"}},[t._v("\n        Zaloguj się\n      ")]),t._v("\n      lub\n      "),s("router-link",{staticClass:"btn btn-primary",attrs:{to:"/register"}},[t._v("\n       Załóż konto\n      ")])],1)])])},x=[];function D(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),s.push.apply(s,a)}return s}function I(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?D(s,!0).forEach(function(e){Object(c["a"])(t,e,s[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):D(s).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))})}return t}var L={name:"home",computed:I({},Object(l["c"])("user",["loggedIn","userCities"]))},S=L,E=(s("f29d"),Object(g["a"])(S,P,x,!1,null,"166bc0e5",null)),T=E.exports,A=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"col-12 col-md-8 mx-auto text-left"},[t.loggedIn?s("div",[s("h1",[t._v("Jesteś już zalogowany")])]):s("form",{staticClass:"card shadow-lg bg-light rounded p-3"},[s("h1",[t._v("Zaloguj się")]),s("div",{staticClass:"form-group"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.username,expression:"username"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Login"},domProps:{value:t.username},on:{input:function(e){e.target.composing||(t.username=e.target.value)}}})]),s("div",{staticClass:"form-group"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],staticClass:"form-control",attrs:{type:"password",min:"8",placeholder:"Hasło"},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}})]),s("div",[s("button",{staticClass:"btn btn-primary d-block",on:{click:t.login}},[t._v("Zaloguj")])]),s("small",[t._v("Nie masz konta?\n        "),s("router-link",{attrs:{to:"/register"}},[t._v("\n            Zarejestruj się\n        ")])],1)])])},z=[],N=s("5118");function U(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),s.push.apply(s,a)}return s}function W(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?U(s,!0).forEach(function(e){Object(c["a"])(t,e,s[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):U(s).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))})}return t}var M={name:"Login",computed:W({},Object(l["c"])("user",["loggedIn"])),data:function(){return{username:"",password:""}},methods:{login:function(){this.$store.dispatch("user/login",{username:this.username,password:this.password})}},created:function(){var t=this;this.loggedIn&&Object(N["setTimeout"])(function(){t.$router.push("/")},3e3)}},Z=M,Y=Object(g["a"])(Z,A,z,!1,null,null,null),B=Y.exports,F=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},J=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"row"},[s("div",{staticClass:"col-6 mx-auto card d-flex"},[s("div",{staticClass:"my-auto"},[s("h1",[t._v("Błąd 404")]),s("p",[t._v("Podana strona nie istnieje.")])])])])}],q={name:"UnknownPage",created:function(){var t=this;Object(N["setTimeout"])(function(){t.$router.push("/")},2500)}},R=q,H=Object(g["a"])(R,F,J,!1,null,null,null),G=H.exports,K=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"col-12 col-md-8 mx-auto text-left"},[s("form",{staticClass:"card shadow-lg bg-light rounded p-3"},[s("h1",[t._v("Rejestracja")]),s("div",{staticClass:"form-group"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.username,expression:"username"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Login"},domProps:{value:t.username},on:{input:function(e){e.target.composing||(t.username=e.target.value)}}})]),s("div",{staticClass:"form-group"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],staticClass:"form-control",attrs:{type:"password",placeholder:"Hasło"},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}})]),s("div",[s("button",{staticClass:"btn btn-primary d-block",on:{click:t.register}},[t._v("Zarejestruj")])]),s("small",[t._v("Masz już konto?\n        "),s("router-link",{attrs:{to:"/login"}},[t._v("\n            Zaloguj się\n        ")])],1)])])},Q=[],V={name:"Register",data:function(){return{username:"",password:""}},methods:{register:function(){this.username.length>4?this.password.length>4?this.$store.dispatch("user/register",{username:this.username,argPassword:this.password}):this.$store.dispatch("alert/error","Zbyt krótkie hasło!"):this.$store.dispatch("alert/error","Zbyt krótka nazwa użytkownika")}}},X=V,tt=Object(g["a"])(X,K,Q,!1,null,null,null),et=tt.exports,st=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"row position-relative "},[s("div",{staticClass:"card col-12 col-lg-6 mx-auto p-0 shadow-lg mb-auto overflow-hidden"},[s("div",{staticClass:"card-body bg-light p-0"},[s("h4",{staticClass:"card-title p-3 mb-0 bg-secondary text-white"},[t._v("Pogoda dla Twoich miast")]),s("div",{staticClass:"card-text p-3  position-relative "},[s("input-with-list",{attrs:{list:t.citiesList,suggestionNumber:10,inputName:"Nazwa miasta"},on:{elementSelected:t.checkAndAddCity}}),t.userCities.length>0?s("div",[s("ul",{staticClass:"list-group mb-3"},t._l(t.userCities,function(e){return s("li",{key:e.id,staticClass:"list-group-item d-flex align-items-center px-1 px-sm-4 weather-of-city ",on:{click:function(s){return t.loadCharts(e.id)}}},[s("span",{staticClass:"text-nowrap overflow-hidden"},[t._v(t._s(e.name))]),s("div",{staticClass:"flex-grow-1"},t._l(e.weatherIcons,function(t){return s("img",{key:t,staticClass:"weather-icon d-sm-block d-none",attrs:{src:"http://openweathermap.org/img/wn/"+t+"@2x.png"}})}),0),e.weather?s("div",{staticClass:"weather-container"},[s("span",[t._v(t._s(e.weather.temp)+"°C")]),s("span",[t._v(t._s(e.weather.humidity)+"%")])]):t._e(),s("button",{staticClass:"btn btn-danger",on:{click:function(s){return s.stopPropagation(),t.deleteCity(e)}}},[s("i",{staticClass:"far fa-trash-alt"})])])}),0),s("button",{staticClass:"btn w-100 btn-outline-danger",on:{click:t.removeAll}},[t._v("Usuń wszystkie")])]):s("h6",[t._v("\n              Dodaj jakieś miasto...\n            ")]),s("LoadingOverlay",{attrs:{loading:t.fetching}})],1)])]),s("weather-charts",{ref:"weatherCharts",attrs:{fetchingChartsData:t.fetchingChartsData}})],1)},at=[],rt=s("bc3a"),nt=s.n(rt),it=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("form",{staticClass:"mb-4 position-relative"},[s("input",{staticClass:"form-control",attrs:{placeholder:t.inputName},domProps:{value:t.name},on:{input:t.findMatching,focus:function(e){t.focusedInput=!0},blur:function(e){t.focusedInput=!1|t.hover}}}),t.focusedInput||t.hover?s("ul",{staticClass:"list-group",attrs:{id:"suggestionList"},on:{mouseover:function(e){t.hover=!0},mouseleave:function(e){t.hover=!1}}},t._l(t.suggestedElements,function(e){return s("li",{key:e.id,staticClass:"list-group-item list-group-item-action",on:{click:function(s){return t.elementSelected(e,!1)}}},[t._v("\n                  "+t._s(e.name)+"\n             "),t._m(0,!0)])}),0):t._e()])},ot=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"text-success"},[s("i",{staticClass:"fas fa-plus"})])}],ct=(s("4917"),s("3b2b"),s("7f7f"),s("c5f6"),{name:"InputWithList",props:{suggestionNumber:Number,inputName:String,list:Array},data:function(){return{name:"",suggestedElements:[],focusedInput:!1,hover:!1}},methods:{findMatching:function(t){this.name=t.target.value;var e=this.name;if(e.length<3)this.suggestedElements=[];else{var s=new RegExp("(".concat(e,")"),"gi");this.suggestedElements=this.$props.list.filter(function(t){return t.name.match(s)}).splice(0,this.suggestionNumber)}},elementSelected:function(t,e){this.name=t.name,this.name="",this.$emit("elementSelected",t),this.focusedInput=!1,this.hover=e}}}),lt=ct,ut=(s("705f"),Object(g["a"])(lt,it,ot,!1,null,"1aa5bbc6",null)),dt=ut.exports,ft=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"col-lg-5 card bg-light px-0 shadow-lg",class:{show:t.show},attrs:{id:"charts"}},[s("div",{staticClass:"text-white card-title bg-secondary p-3 mb-0"},[s("h4",{staticClass:"my-0 align-middle pl-1"},[t._v(t._s(t.cityName||"Prognoza pogody"))])]),t.chartsData?t._e():s("p",{attrs:{id:"charts-alt"}},[t._v("Wybierz jakieś miasto")]),s("div",{staticClass:"card-body text-left",attrs:{id:"charts-container",hidden:!t.chartsData}},[t._m(0),t._m(1),t._m(2),t._m(3)]),s("div",{staticClass:"d-block d-lg-none bg-primary",attrs:{id:"close-charts-btn"},on:{click:function(e){t.show=!t.show}}},[s("i",{staticClass:"fas fa-chevron-left"})]),s("lodading-overlay",{attrs:{loading:t.fetchingChartsData}})],1)},pt=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("h4",[s("i",{staticClass:"fas fa-thermometer-half mr-2"}),t._v("Temperatura")])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"canvas-container"},[s("canvas",{attrs:{id:"temperature"}})])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("h4",[s("i",{staticClass:"fas fa-tint mr-2"}),t._v("Wilgotność")])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"canvas-container"},[s("canvas",{attrs:{id:"humidity"}})])}],ht=s("30ef"),mt=s.n(ht),gt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"spinner-container",class:{"spinner-container-visible":t.loading}},[t._m(0)])},bt=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"spinner-border text-primary",attrs:{id:"spinner",role:"status"}},[s("span",{staticClass:"sr-only"},[t._v("Pobieranie danych...")])])}],vt={name:"LoadingOverlay",props:["loading"]},yt=vt,jt=(s("2a79"),Object(g["a"])(yt,gt,bt,!1,null,"667a9997",null)),wt=jt.exports,Ct={name:"WeatherCharts",props:["fetchingChartsData"],components:{LodadingOverlay:wt},data:function(){return{show:!1,chartsData:null,cityName:"",tempChart:null,humChart:null}},beforeDestroy:function(){this.tempChart.destroy(),this.humChart.destroy()},methods:{showCharts:function(){this.show=!0},hideCharts:function(){this.chartsData=null,this.tempChart&&this.humChart&&(this.tempChart.destroy(),this.humChart.destroy()),this.humChart=null,this.tempChart=null,this.cityName="",this.show=!1},updateCharts:function(t){var e=this.prepareData(t);this.tempChart.data.datasets[0].data=e.temperature,this.tempChart.data.labels=e.labels,this.tempChart.update(),this.humChart.data.datasets[0].data=e.humidity,this.humChart.data.labels=e.labels,this.humChart.update()},prepareData:function(t){this.chartsData=t,this.cityName=t.city.name;var e=[],s=[],a=[];return this.chartsData.list.forEach(function(t){e.push(t.main.temp),s.push(t.main.humidity),a.push(new Date(t.dt_txt).toISOString())}),{temperature:e,humidity:s,labels:a}},drawCharts:function(t){if(this.tempChart&&this.humChart)this.updateCharts(t);else{var e=$("#temperature"),s=$("#humidity"),a=this.prepareData(t);this.tempChart=new mt.a(e,{type:"line",data:{labels:a.labels,datasets:[{label:"Temperatura",data:a.temperature,borderColor:"#df1e04d5",borderWidth:2}]},options:{maintainAspectRatio:!1,legend:{display:!1},scales:{yAxes:[{scaleLabel:{display:!0,labelString:"Temperatura [°C]"},ticks:{beginAtZero:!0}}],xAxes:[{type:"time",scaleLabel:{display:!0,labelString:"Dzień"},time:{unit:"day",unitStepSize:1,displayFormats:{day:"DD-MM"},tooltipFormat:"ddd YYYY-MM-DD, kk:mm"}}]}}}),this.humChart=new mt.a(s,{type:"line",data:{labels:a.labels,datasets:[{label:"Wilgotność",data:a.humidity,borderColor:"#00bcd4",borderWidth:2}]},options:{maintainAspectRatio:!1,legend:{display:!1},scales:{yAxes:[{scaleLabel:{display:!0,labelString:"Wilgotność [%]"},ticks:{beginAtZero:!0}}],xAxes:[{type:"time",scaleLabel:{display:!0,labelString:"Dzień"},time:{unit:"day",unitStepSize:1,displayFormats:{day:"DD-MM"},tooltipFormat:"ddd YYYY-MM-DD, kk:mm"}}]}}})}}}},Ot=Ct,kt=(s("0dea"),Object(g["a"])(Ot,ft,pt,!1,null,"683be192",null)),_t=kt.exports;function Pt(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),s.push.apply(s,a)}return s}function xt(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?Pt(s,!0).forEach(function(e){Object(c["a"])(t,e,s[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):Pt(s).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))})}return t}var Dt={name:"Weather",components:{InputWithList:dt,WeatherCharts:_t,LoadingOverlay:wt},data:function(){return{apikey:"05f5cd33a78f26982b46071600c01ff6",weatherData:[],fetching:!1,updateFrequency:3e4,timer:null,citiesList:[],fetchingChartsData:!1,currentCity:null}},beforeDestroy:function(){Object(N["clearInterval"])(this.timer)},computed:xt({},Object(l["c"])("user",["userCities"])),created:function(){var t=this;nt.a.get("./static/miastaPL.json").then(function(e){return t.citiesList=e.data}).catch(function(e){return t.error("Błąd wczytywania listy miast")}),this.fetchWeather(),this.timer=Object(N["setInterval"])(this.fetchWeather,this.updateFrequency)},methods:xt({},Object(l["b"])("user",["addCity","removeCity","removeAll","updateWeather"]),{},Object(l["b"])("alert",["error","warning"]),{fetchWeather:function(){var t=this;if(this.userCities.length>0){this.fetching=!0;var e="";this.userCities.forEach(function(t){return e+="".concat(t.id,",")}),e=e.slice(0,-1),nt.a.get("https://api.openweathermap.org/data/2.5/group?id=".concat(e,"&APPID=").concat(this.apikey,"&units=metric")).then(function(e){t.weatherData=e.data.list,t.updateWeather(t.weatherData)}).catch(function(e){return t.error(e)})}Object(N["setTimeout"])(function(){return t.fetching=!1},1e3)},fetchCurrentylAdded:function(t){var e=this;this.fetching=!0,nt.a.get("https://api.openweathermap.org/data/2.5/weather?id=".concat(t.id,"&APPID=").concat(this.apikey,"&units=metric")).then(function(t){e.weatherData.push(t.data),e.updateWeather(e.weatherData)}).catch(function(t){return e.error(t)}).finally(function(){return Object(N["setTimeout"])(function(){return e.fetching=!1},1e3)}),this.loadCharts(t.id)},checkAndAddCity:function(t){this.userCities.some(function(e){return e.id==t.id})?this.warning("Wyrabne miasto jest już na liście"):(this.addCity(t),this.fetchCurrentylAdded(t))},deleteCity:function(t){this.currentCity=null,this.$refs.weatherCharts.hideCharts(),this.removeCity(t)},loadCharts:function(t){var e=this;this.fetchingChartsData=!0,this.$refs.weatherCharts.showCharts(),nt.a.get("https://api.openweathermap.org/data/2.5/forecast?id=".concat(t,"&APPID=").concat(this.apikey,"&units=metric")).then(function(s){e.$refs.weatherCharts.drawCharts(s.data),e.currentCity=t}).catch(function(t){return e.error(t)}).finally(function(){return e.fetchingChartsData=!1},1e3)}})},It=Dt,Lt=(s("2a1b"),Object(g["a"])(It,st,at,!1,null,"66eaac31",null)),St=Lt.exports,Et=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"row"},[s("div",{staticClass:"col-md-6 col-12 mx-auto card p-0 shadow-lg d-flex"},[t.loggedIn?s("div",[s("h4",{staticClass:"card-title p-3 mb-0 bg-secondary text-white"},[t._v("Witaj "+t._s(t.username))]),s("div",{staticClass:"card-body justify-content-between d-flex flex-column flex-lg-row"},[s("span",{staticClass:"flex-grow-1 px-1 my-2"},[s("button",{staticClass:"btn btn-primary w-100",on:{click:t.changePasswordEvent}},[s("i",{staticClass:"fas fa-user-edit"}),t._v(" Zmień hasło")])]),s("span",{staticClass:"flex-grow-1 px-1 my-2"},[s("button",{staticClass:"btn btn-primary w-100",on:{click:t.changeUsernameEvent}},[s("i",{staticClass:"fas fa-user-edit"}),t._v("Zmień login")])]),s("span",{staticClass:"flex-grow-1 px-1 my-2"},[s("button",{staticClass:"btn btn-danger w-100",on:{click:t.deleteAccountEvent}},[s("i",{staticClass:"fas fa-user-slash"}),t._v("Usuń konto")])]),s("span",{staticClass:"flex-grow-1 px-1 my-2"},[s("button",{staticClass:"btn btn-danger w-100",on:{click:t.logoutEvent}},[s("i",{staticClass:"fas fa-sign-out-alt"}),t._v(">Wyloguj")])])]),s("double-input-modal",{ref:"modal",attrs:{firstType:t.firstType,secondType:t.secondType},on:{accepted:t.actionEvent},scopedSlots:t._u([{key:"title",fn:function(){return[t._v("\n                "+t._s(t.actionTitle)+"\n              ")]},proxy:!0},{key:"firstInput",fn:function(){return[t._v("\n                "+t._s(t.firtInputTitle)+"\n              ")]},proxy:!0},{key:"secondInput",fn:function(){return[t._v("\n                "+t._s(t.secondInputTitle)+"\n              ")]},proxy:!0}])})],1):s("div",{staticClass:"mt-3"},[s("h1",[t._v("Nie jesteś zalogowany")]),s("p",[t._v("Dostęp do tej strony mają jedynie zalogowani użytkownicy.")])])])])},Tt=[],$t=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"modal ",attrs:{id:"modal"}},[s("div",{staticClass:"modal-dialog modal-dialog-centered"},[s("div",{staticClass:"modal-content"},[s("div",{staticClass:"modal-header"},[s("h5",{staticClass:"modal-title"},[t._t("title")],2)]),s("div",{staticClass:"modal-body"},[s("form",{staticClass:"text-left"},[s("h5",[t._t("firstInput")],2),"checkbox"===t.firstType?s("input",{directives:[{name:"model",rawName:"v-model",value:t.firstLine,expression:"firstLine"}],staticClass:"form-control",attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.firstLine)?t._i(t.firstLine,null)>-1:t.firstLine},on:{change:function(e){var s=t.firstLine,a=e.target,r=!!a.checked;if(Array.isArray(s)){var n=null,i=t._i(s,n);a.checked?i<0&&(t.firstLine=s.concat([n])):i>-1&&(t.firstLine=s.slice(0,i).concat(s.slice(i+1)))}else t.firstLine=r}}}):"radio"===t.firstType?s("input",{directives:[{name:"model",rawName:"v-model",value:t.firstLine,expression:"firstLine"}],staticClass:"form-control",attrs:{type:"radio"},domProps:{checked:t._q(t.firstLine,null)},on:{change:function(e){t.firstLine=null}}}):s("input",{directives:[{name:"model",rawName:"v-model",value:t.firstLine,expression:"firstLine"}],staticClass:"form-control",attrs:{type:t.firstType},domProps:{value:t.firstLine},on:{input:function(e){e.target.composing||(t.firstLine=e.target.value)}}}),s("h5",[t._t("secondInput")],2),"checkbox"===t.secondType?s("input",{directives:[{name:"model",rawName:"v-model",value:t.secondLine,expression:"secondLine"}],staticClass:"form-control",attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.secondLine)?t._i(t.secondLine,null)>-1:t.secondLine},on:{change:function(e){var s=t.secondLine,a=e.target,r=!!a.checked;if(Array.isArray(s)){var n=null,i=t._i(s,n);a.checked?i<0&&(t.secondLine=s.concat([n])):i>-1&&(t.secondLine=s.slice(0,i).concat(s.slice(i+1)))}else t.secondLine=r}}}):"radio"===t.secondType?s("input",{directives:[{name:"model",rawName:"v-model",value:t.secondLine,expression:"secondLine"}],staticClass:"form-control",attrs:{type:"radio"},domProps:{checked:t._q(t.secondLine,null)},on:{change:function(e){t.secondLine=null}}}):s("input",{directives:[{name:"model",rawName:"v-model",value:t.secondLine,expression:"secondLine"}],staticClass:"form-control",attrs:{type:t.secondType},domProps:{value:t.secondLine},on:{input:function(e){e.target.composing||(t.secondLine=e.target.value)}}})])]),s("div",{staticClass:"modal-footer"},[s("button",{staticClass:"btn btn-outline-danger",attrs:{type:"button","data-dismiss":"modal"},on:{click:t.clear}},[t._v("Anuluj")]),s("button",{staticClass:"btn btn-outline-success",attrs:{type:"button"},on:{click:function(e){t.$emit("accepted",t.firstLine,t.secondLine),t.clear()}}},[t._v("Wykonaj")])])])])])},At=[],zt={name:"Modal",props:{firstType:{type:String,default:"text"},secondType:{type:String,default:"text"}},methods:{clear:function(){this.firstLine="",this.secondLine="",$("modal").modal("hide")}},data:function(){return{firstLine:"",secondLine:""}}},Nt=zt,Ut=Object(g["a"])(Nt,$t,At,!1,null,null,null),Wt=Ut.exports;function Mt(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),s.push.apply(s,a)}return s}function Zt(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?Mt(s,!0).forEach(function(e){Object(c["a"])(t,e,s[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):Mt(s).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))})}return t}var Yt={name:"Profile",components:{DoubleInputModal:Wt},computed:{loggedIn:function(){return this.$store.state.user.loggedIn},username:function(){return this.$store.state.user.user.name}},created:function(){var t=this;this.loggedIn||setTimeout(function(){t.$router.push("/")},2500)},methods:Zt({},Object(l["b"])("user",["updateUserData","deleteUser"]),{},Object(l["b"])("alert",["warning"]),{changePasswordEvent:function(){$("#modal").modal("show"),this.actionEvent=this.changePassword,this.firstType="password",this.secondType="password",this.actionTitle="Zmiana hasła",this.firtInputTitle="Stare hasło",this.secondInputTitle="Nowe hasło"},changeUsernameEvent:function(){$("#modal").modal("show"),this.actionEvent=this.changeUsername,this.firstType="text",this.secondType="password",this.actionTitle="Zmiana nazwy użytkownika",this.firtInputTitle="Nowa nazwa",this.secondInputTitle="Hasło"},deleteAccountEvent:function(){$("#modal").modal("show"),this.actionEvent=this.deleteAccount,this.firstType="password",this.secondType="password",this.actionTitle="Usuwanie konta",this.firtInputTitle="Hasło",this.secondInputTitle=""},logoutEvent:function(){this.$store.dispatch("user/logout"),this.$router.push("/")},changePassword:function(t,e){e.length<4?this.warning("Zbyt krótkie hasło"):(this.updateUserData({username:"",authPassword:t,newPassword:e}),$("#modal").modal("hide"))},changeUsername:function(t,e){t.length<4?this.warning("Zbyt krótka nazwa"):(this.updateUserData({username:t,authPassword:e}),$("#modal").modal("hide"))},deleteAccount:function(t){this.deleteUser(t),$("#modal").modal("hide")}}),data:function(){return{actionTitle:"",actionEvent:function(){},firstType:"",secondType:"",firtInputTitle:"",secondInputTitle:""}}},Bt=Yt,Ft=Object(g["a"])(Bt,Et,Tt,!1,null,null,null),Jt=Ft.exports;n["a"].use(_["a"]);var qt=new _["a"]({routes:[{path:"/",name:"home",component:T},{path:"/login",name:"login",component:B},{path:"/register",name:"Register",component:et},{path:"/weather",name:"Weather",component:St},{path:"/profile",name:"Profile",component:Jt},{path:"*",name:"UknownPage",component:G}]}),Rt=qt,Ht={show:!1,message:"",type:"",timeout:5e3},Gt={removeAlert:function(t){t.show=!1,t.message="",t.type=""},setAlert:function(t,e){var s=e.message,a=e.type;t.show=!0,t.message=s,t.type=a}},Kt={success:function(t,e){var s=t.commit;s("setAlert",{message:e,type:"success"}),setTimeout(function(){s("removeAlert")},Ht.timeout)},error:function(t,e){var s=t.commit;s("setAlert",{message:e,type:"danger"}),setTimeout(function(){s("removeAlert")},Ht.timeout)},warning:function(t,e){var s=t.commit;s("setAlert",{message:e,type:"warning"}),setTimeout(function(){s("removeAlert")},Ht.timeout)},info:function(t,e){var s=t.commit;s("setAlert",{message:e,type:"info"}),setTimeout(function(){s("removeAlert")},Ht.timeout)}},Qt={namespaced:!0,state:Ht,mutations:Gt,actions:Kt},Vt=localStorage.getItem("logged")||0,Xt=Vt?JSON.parse(localStorage.getItem(Vt)):{},te=Vt?{user:Xt,loggedIn:!0,userCities:Xt.cities}:{user:null,loggedIn:!1,userCities:[]},ee={login:function(t,e){t.user=e,t.loggedIn=!0,t.userCities=e.cities},logout:function(t){t.user=null,t.loggedIn=!1,t.userCities=[]},updateUserData:function(t,e){var s=e.name,a=e.password;t.user.name=s,t.user.password=a},addCity:function(t,e){t.userCities.push(e),t.user.cities=t.userCities},removeCity:function(t,e){t.userCities=t.userCities.filter(function(t){return t.id!==e.id}),t.user.cities=t.userCities},removeAll:function(t){t.userCities=[],t.user.cities=t.userCities},updateWeather:function(t,e){for(var s=function(s){t.userCities[s].weather=e[s].main,t.userCities[s].weatherIcons=[],e[s].weather.forEach(function(e){return t.userCities[s].weatherIcons.push(e.icon)})},a=0;a<t.userCities.length;a++)s(a)}},se={register:function(t,e){var s=t.dispatch,a=e.username,r=e.argPassword,n=localStorage.getItem(a);if(a&&r&&!n){var i={name:a,password:r,cities:[]};localStorage.setItem(a,JSON.stringify(i)),s("alert/success","Pomyślnie zarejestrowano",{root:!0}),Rt.push("/login")}else s("alert/error",n?"Taki użytkownik już istnieje":"Brak hasła lub loginu",{root:!0})},deleteAccount:function(t,e){var s=t.dispatch;localStorage.getItem(e)&&(localStorage.removeItem(e),s("logout"),s("alert/info","Usunięto konto")),s("alert/error","Błąd podczas usuwania konta - nie istnieje",{root:!0})},login:function(t,e){var s=t.dispatch,a=t.commit,r=e.username,n=e.password,i=JSON.parse(localStorage.getItem(r));i?i.password===n?(a("login",i),localStorage.setItem("logged",i.name),s("alert/success","Pomyślnie zalogowano",{root:!0}),Rt.push("/")):s("alert/error","Błędne hasło",{root:!0}):s("alert/error","Podany użytkownik nie istnieje",{root:!0})},logout:function(t){var e=t.dispatch,s=t.commit;localStorage.removeItem("logged"),s("logout"),e("alert/info","Wylogowano",{root:!0}),Rt.push("/")},addCity:function(t,e){var s=t.dispatch,a=t.commit;a("addCity",e),s("storeUser"),s("alert/success","Dodano miasto",{root:!0})},removeCity:function(t,e){var s=t.dispatch,a=t.commit;a("removeCity",e),s("storeUser"),s("alert/warning","Usunięto miasto",{root:!0})},removeAll:function(t){var e=t.dispatch,s=t.commit;s("removeAll"),e("storeUser"),e("alert/warning","Usunięto wszystkie miasta",{root:!0})},updateWeather:function(t,e){var s=t.dispatch,a=t.commit;a("updateWeather",e),s("storeUser")},storeUser:function(){localStorage.setItem(te.user.name,JSON.stringify(te.user))},updateUserData:function(t,e){var s=t.dispatch,a=t.commit,r=e.username,n=e.authPassword,i=e.newPassword;if(te.user.password==n){if(localStorage.getItem(r))return void s("alert/error","Taki użytkownik już istnieje",{root:!0});localStorage.removeItem(te.user.name),a("updateUserData",{name:r||te.user.name,password:i||n}),localStorage.setItem("logged",te.user.name),s("storeUser"),s("alert/success","Wprowadzono zmiany",{root:!0})}else s("alert/error","Błędne hasło",{root:!0})},deleteUser:function(t,e){var s=t.dispatch;t.commit;e==te.user.password?(localStorage.removeItem(te.user.name),s("logout"),s("alert/info","Usunięto konto",{root:!0}),Rt.push("/")):s("alert/error","Błędne hasło",{root:!0})}},ae={namespaced:!0,state:te,mutations:ee,actions:se};n["a"].use(l["a"]);var re=new l["a"].Store({modules:{alert:Qt,user:ae}});s("de82");window.$=r.a,n["a"].config.productionTip=!1,new n["a"]({router:Rt,store:re,render:function(t){return t(k)}}).$mount("#app")},"57b9":function(t,e,s){},"5c0b":function(t,e,s){"use strict";var a=s("5e27"),r=s.n(a);r.a},"5d9e":function(t,e,s){},"5e27":function(t,e,s){},"705f":function(t,e,s){"use strict";var a=s("9c7c"),r=s.n(a);r.a},"941b":function(t,e,s){},"9c7c":function(t,e,s){},"9fc8":function(t,e,s){"use strict";var a=s("5d9e"),r=s.n(a);r.a},a9bf:function(t,e,s){},dcd1:function(t,e,s){},de82:function(t,e,s){},f29d:function(t,e,s){"use strict";var a=s("57b9"),r=s.n(a);r.a}});